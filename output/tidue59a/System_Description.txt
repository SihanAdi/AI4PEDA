1 System Description This reference design demonstrates how to create a battery-powered, electronic smart lock with integrated Wi-Fi. The design demonstrates how the SimpleLink Wi-Fi CC3220S wireless MCU (SoC) can be used as the main system controller and network processor to create a highly integrated design. The TIDC-01005 reference design combines the CC3220S with a DRV8837, 1.8-A, low-voltage, brushed DC motor driver, to form the core of a Wi-Fi enabled electronic smart lock design. The design also features the SimpleLink Bluetooth® low energy CC2640R2F wireless MCU to demonstrate Wi-Fi provisioning over BLE. The design leverages LaunchPad™ Development kits and the DRV8837EVM, which makes it easy to reproduce and evaluate. The software for the TIDC-01005 is based on the SimpleLink SDK to enable maximum portability within the SimpleLink Platform. The TIDC-01005 can be connected to a Wi-Fi access point (AP) using either the SimpleLink SDK Explorer or SimpleLink Wi-Fi Starter Pro mobile application. When connected to the AP, the design establishes a secure connection to the cloud, which lets the user remotely control and monitor the state of the lock system. Integrating Wi-Fi into the lock eliminates the need for the user to have a wireless bridge to connect the system to their Wi-Fi network and IoT ecosystem. In addition to demonstrating remote access to the lock system, the TIDC-01005 design also demonstrates how the CC3220S can be used to implement a fast OTA software update for the lock, while demonstrating the use of multiple CC3220S security enablers. The two main design considerations for the TIDC-01005 were low-power capability and integrated security features. The ability to support a Wi-Fi connection with very low-power is critical for Wi-Fi-enabled electronic smart locks, because they are often battery powered. Additionally, many security features must be supported by an electronic smart-lock design for it to be robust and function as a reliable component in an access control system. The TIDC-01005 demonstrates how to achieve very low-current consumption with the CC3220S when creating a system that is always connected to the network. The design also demonstrates the following key security features: • Secure boot of application code • AP provisioning using WPA2 authentication and HTTPS • Wi-Fi provisioning over BLE, with secure simple pairing • Secure socket connections to the cloud for messaging and OTA updates • OTA update using multiple security enablers: – File integrity check – Signature verification – Failsafe files – Bundle protection Many of the features demonstrated in the TIDC-01005 application are based on the networking application libraries available in the SimpleLink SDK, including SNTP, MQTT, and HTTP. These protocols and the features they are used to implement in the software are applicable to many other building automation systems that integrate Wi-Fi connectivity. In particular, multiple aspects of the TIDC-01005 design may also apply to door keypad and reader designs. 1.1 Key System Specifications Table 1-1. Key System Specifications PARAMETER SPECIFICATIONS DETAILS Demo: 5-V USB connection to LaunchPad Input power source Calculations: Based on theoretical energy capacity Section 3.1.1.5 and Section 3.2.5 of four AA alkaline batteries Sensor type Inertial measurement unit (IMU) Section 2.1 Wi-Fi and MCU: 377 µA Average current consumption Bluetooth low energy and MCU: 40 µA Section 3.2.2 Motor: 42 µA Lock or unlock events 24 per day Section 3.2.5 Motor type Brushed DC Section 2.3 Mobile device with Wi-Fi interface (for example, User interface N/A smartphone, tablet, or PC) Theoretical estimate of battery life 1.26 years Section 3.2.5 